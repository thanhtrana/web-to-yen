@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<!-- start header section -->
<section id="header">
    <div class="header-top">
        <div class="container">
            <div class="header-navbar-posion d-flex align-items-center justify-content-between">
                <div class="col-md-4 d-lg-none d-xl-none">
                    <div class="header-navbar">
                        <div class="header-navbar-bottom">
                            <div class="container position-relative">
                                <div class="row align-items-center justify-content-start">
                                    <div class="col-md-4 d-lg-none d-xl-none">
                                        <div class="header-top-menu">
                                            <!-- Nút mở menu -->
                                            <div class="header-btn-categorie dropdown"
                                                 id="menuToggle">
                                                <i class="bi bi-list"></i>
                                            </div>

                                            <!-- Overlay (nền mờ) -->
                                            <div id="overlay" class="overlay"></div>

                                            <!-- Menu bên trái -->
                                            <div id="sideMenu" class="side-menu">
                                                <div class="header-top-side">
                                                    <ul class="header-top-navbar-side">
                                                        <div class="header-top-close">
                                                            <span class="close">
                                                                <i class="bi bi-x"></i>
                                                            </span>
                                                        </div>
                                                        <li><a href="./index.html">Trang chủ</a></li>
                                                        <li>
                                                            <a href="#">
                                                                Sản phẩm
                                                                <i class="hd-top-mb-right bi bi-chevron-right"></i>
                                                            </a>
                                                            <ul class="hd-top-mb-ul">
                                                                <li>
                                                                    <a href="./to-yen.html"> Tổ yến </a>
                                                                </li>
                                                                <li>
                                                                    <a href="/collection/toyentho.html">
                                                                        Yến chưng tươi
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href=""> Yến chưng sẵn </a>
                                                                </li>
                                                                <li>
                                                                    <a href=""> CiCi Skin Aura </a>
                                                                </li>
                                                                <li>
                                                                    <a href="/collection/yencaocap.html">
                                                                        Set quà biếu cao cấp
                                                                    </a>
                                                                </li>
                                                                <li>
                                                                    <a href=""> Fer Valley </a>
                                                                </li>
                                                                <li>
                                                                    <a href=""> Sét quà tết </a>
                                                                </li>
                                                            </ul>
                                                        </li>
                                                        <li><a href="#">Khuyến mãi</a></li>
                                                        <li><a href="#">Tin tức</a></li>
                                                        <li><a href="#">Liên hệ</a></li>
                                                        <li><a href="#">Về chúng tôi</a></li>
                                                        <li><a href="#">Chính sách đại lý</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="header-img-logo col-lg-1 col-md-6">
                    <a href="#">
                        <img src="/image/logo.webp" alt="logo" />
                    </a>
                </div>

                <div class="header-search col-lg-7 d-none d-lg-block d-xl-block">
                    <div class="header-search-from">
                        <div class="header-search-narbar">
                            <div class="header-input">
                                <div class="search-1">
                                    <p id="searchError" class="search-error-text">
                                        ! Vui lòng điền vào trường này
                                    </p>
                                </div>
                                <input id="searchInput"
                                       class="header-input-search"
                                       placeholder="Trao gửi tri ân - Nhận niềm vui mới"
                                       type="text" />
                                <button id="searchBtn"
                                        class="header-input-button"
                                        type="submit"
                                        aria-label="Tìm Kiếm">
                                    <i class="ti-search"></i>
                                    Tìm kiếm
                                </button>
                            </div>
                        </div>
                        <div class="header-search-text">
                            <span><a href="#">Thượng Vy Yến biển</a></span>
                            <span><a href="/to-yen.html">Tổ yến</a></span>
                            <span><a href="#">Yến chưng tươi</a></span>
                            <span><a href="#">Yến chưng sẵn</a></span>
                            <span><a href="#"> Sữa Hạt Tổ Yến</a></span>
                        </div>
                    </div>
                </div>

                <div class="header-account-shop col-lg-4 col-md-2">
                    <div class="header-account">
                        <div class="header-account-icon">
                            <a href="./login.html">
                                <i class="bi bi-person"></i>
                            </a>
                        </div>
                        @if(User.Identity?.IsAuthenticated ?? false) // neu dang nhap thanh cong
                        {
                            <span><a asp-action="Logout" asp-controller="Account">Xin chào @User.Identity.Name</a></span>
                        }
                        else
                        {
                            
                        <div class="header-account-text d-none d-lg-block d-xl-block">
                            <div class="header-account-a">
                                <span><a asp-controller="Account" asp-action="Login">Đăng nhập</a></span>
                                <span><a href="#">/</a></span>
                                <span><a asp-controller="Account" asp-action="Register">Đăng ký</a></span>
                            </div>
                            <div class="header-account-span">
                                <span> Tài khoản </span>
                            </div>
                        </div>
                        }
                    </div>
                    
                    @await Component.InvokeAsync("MiniCart")

                </div>
            </div>
        </div>
    </div>

    <div class="header-navbar">
        <div class="header-navbar-bottom">
            <div class="container position-relative">
                <div class="row align-items-center justify-content-start">
                    <div class="col-xl-3 row-col-lg-12 d-none d-lg-block d-xl-block">
                        <div class="header-btn-menu">
                            <div class="header-btn-categories">
                                <i class="header-btn-categories-list bi bi-list"></i>
                                <div class="header-btn-ctg-span">
                                    <span>Danh Mục</span>
                                    <span class="header-btn-ctg-text"> Sản Phẩm </span>
                                </div>
                            </div>
                            <div class="header-btn-navbar">
                                <ul class="header-btn-navbar-menu">
                                    <vc:categories></vc:categories>

                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row-col-lg-12 col-xl-9 d-none d-lg-block d-xl-block">
                        <div class="header-navbar-menu">
                            <div class="header-navbar-menu-list d-flex">
                                <div class="navbar-menu">
                                    <div id="navbar">
                                        <nav class="navbar-main">
                                            <ul class="navbar-ul">
                                                <li class="">
                                                    <a asp-action="Index" asp-controller="Home">Trang chủ</a>
                                                </li>
                                                @await Component.InvokeAsync("NavbarCategories")

                                                <li><a href="">Khuyến Mãi</a></li>
                                                <li><a href="">Tin Tức</a></li>
                                                <li><a href="">Liên Hệ</a></li>
                                                <li><a href="">Về Chúng Tôi</a></li>
                                                <li><a href="">Chính Sách Đại Lý</a></li>
                                            </ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    // click vao thi hien, click ra ngoai thi tat, (gio hang)

    document.addEventListener('DOMContentLoaded', function() {
      const headerShop = document.querySelector('.header-shop');
      const headerActionDropdown = document.querySelector('.header-action-dropdown');

      // Toggle dropdown khi click vào header-shop
      headerShop.addEventListener('click', function(event) {
        event.stopPropagation();  // Ngăn chặn sự kiện click lan tỏa
        headerShop.classList.toggle('active');
      });

      // Đóng dropdown khi click ra ngoài
      document.addEventListener('click', function(event) {
        if (!headerShop.contains(event.target)) {
          headerShop.classList.remove('active');
        }
      });
    });
    </script>
<!-- end header section -->
